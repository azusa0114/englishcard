<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>単語カード</title>
  <style>
    .card { 
      border: 1px solid #ccc; 
      padding: 20px; 
      margin-bottom: 10px; 
      cursor: pointer;
      user-select: none;
      width: 300px;
    }
    .card-front {
      font-weight: bold;
    }
    .card-back {
      color: #555;
      display: none;
    }
    .card.flipped .card-front {
      display: none;
    }
    .card.flipped .card-back {
      display: block;
    }
  </style>
</head>
<body>
<center>
  <div id="card-container"></div>
</center>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
    const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ2VWN6QtWFSjmqftBs9PLXPsE4lNQ5fhfJZ5uhQkxUIj0ICZsY6UAdU1pMqJ8vHD7mROyt3YJ8JkxF/pub?gid=0&single=true&output=csv';

    // PapaParseでCSVをfetch＆パース
    Papa.parse(csvUrl, {
      download: true,
      header: true, // ヘッダーをキーにする
      complete: function(results) {
        const data = results.data;
        const container = document.getElementById('card-container');
        container.innerHTML = ''; // クリア

        data.forEach((item, index) => {
          // 表の内容を作る例
          const cardFront = document.createElement('div');
          cardFront.className = 'card-front';
          cardFront.textContent = item.word;

          // 裏の内容
          const cardBack = document.createElement('div');
          cardBack.className = 'card-back';
          cardBack.textContent = item.meaning;

          // カードの全体を包むdiv
          const card = document.createElement('div');
          card.className = 'card';
          card.appendChild(cardFront);
          card.appendChild(cardBack);

          // タップ（クリック）で表裏切り替え
          card.addEventListener('click', () => {
            card.classList.toggle('flipped');
          });

          container.appendChild(card);
        });
      }
    });
  </script>
</body>
</html>
